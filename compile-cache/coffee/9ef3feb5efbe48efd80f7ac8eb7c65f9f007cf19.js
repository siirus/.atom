(function() {
  var Crypto, Os;

  Os = require('os');

  Crypto = require('crypto');

  module.exports = {
    disableNewBufferOnOpen: function(val, force) {
      return this.config('disableNewFileOnOpen', val, force);
    },
    disableNewBufferOnOpenAlways: function(val, force) {
      return this.config('disableNewFileOnOpenAlways', val, force);
    },
    restoreOpenFilesPerProject: function(val, force) {
      return this.config('restoreOpenFilesPerProject', val, force);
    },
    saveFolder: function(val, force) {
      var saveFolderPath;
      saveFolderPath = this.config('dataSaveFolder', val, force);
      if (saveFolderPath == null) {
        this.setSaveFolderDefault();
        saveFolderPath = this.saveFolder();
      }
      return saveFolderPath;
    },
    restoreOpenFileContents: function(val, force) {
      return this.config('restoreOpenFileContents', val, force);
    },
    skipSavePrompt: function(val, force) {
      return this.config('skipSavePrompt', val, force);
    },
    extraDelay: function(val, force) {
      return this.config('extraDelay', val, force);
    },
    setSaveFolderDefault: function() {
      return this.saveFolder(atom.packages.getPackageDirPaths() + this.pathSeparator() + 'save-session' + this.pathSeparator() + 'projects');
    },
    pathSeparator: function() {
      if (this.isWindows()) {
        return '\\';
      }
      return '/';
    },
    isWindows: function() {
      return Os.platform() === 'win32';
    },
    isArray: function(value) {
      return value && typeof value === 'object' && value instanceof Array && typeof value.length === 'number' && typeof value.splice === 'function' && !(value.propertyIsEnumerable('length'));
    },
    saveFile: function() {
      var path, projectPath, projects, saveFolderPath;
      saveFolderPath = this.saveFolder();
      if (atom.project.getPaths().length > 0) {
        projects = atom.project.getPaths();
        if ((projects != null) && projects.length > 0) {
          projectPath = projects[0];
        }
        if (projectPath != null) {
          path = this.transformProjectPath(projectPath);
          return saveFolderPath + this.pathSeparator() + path + this.pathSeparator() + 'project.json';
        }
      }
      return saveFolderPath + this.pathSeparator() + 'project.json';
    },
    transformProjectPath: function(path) {
      var colon;
      if (this.isWindows) {
        colon = path.indexOf(':');
        if (colon !== -1) {
          return path.substring(0, colon) + path.substring(colon + 1, path.length);
        }
      }
      return path;
    },
    hashMyStr: function(str) {
      var hash;
      hash = "";
      if ((str != null) && str !== "") {
        hash = Crypto.createHash('md5').update(str).digest("hex");
      }
      return hash;
    },
    config: function(key, val, force) {
      if ((val != null) || ((force != null) && force)) {
        return atom.config.set('save-session.' + key, val);
      } else {
        return atom.config.get('save-session.' + key);
      }
    },
    observe: function(key, callback) {
      return atom.config.observe('save-session.' + key, callback);
    }
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiZmlsZTovLy9DOi9Vc2Vycy9tYnVsZ2Frby8uYXRvbS9wYWNrYWdlcy9zYXZlLXNlc3Npb24vbGliL2NvbmZpZy5jb2ZmZWUiCiAgXSwKICAibmFtZXMiOiBbXSwKICAibWFwcGluZ3MiOiAiQUFBQTtBQUFBLE1BQUEsVUFBQTs7QUFBQSxFQUFBLEVBQUEsR0FBSyxPQUFBLENBQVEsSUFBUixDQUFMLENBQUE7O0FBQUEsRUFDQSxNQUFBLEdBQVMsT0FBQSxDQUFRLFFBQVIsQ0FEVCxDQUFBOztBQUFBLEVBR0EsTUFBTSxDQUFDLE9BQVAsR0FHRTtBQUFBLElBQUEsc0JBQUEsRUFBd0IsU0FBQyxHQUFELEVBQU0sS0FBTixHQUFBO2FBQ3RCLElBQUMsQ0FBQSxNQUFELENBQVEsc0JBQVIsRUFBZ0MsR0FBaEMsRUFBcUMsS0FBckMsRUFEc0I7SUFBQSxDQUF4QjtBQUFBLElBR0EsNEJBQUEsRUFBOEIsU0FBQyxHQUFELEVBQU0sS0FBTixHQUFBO2FBQzVCLElBQUMsQ0FBQSxNQUFELENBQVEsNEJBQVIsRUFBc0MsR0FBdEMsRUFBMkMsS0FBM0MsRUFENEI7SUFBQSxDQUg5QjtBQUFBLElBTUEsMEJBQUEsRUFBNEIsU0FBQyxHQUFELEVBQU0sS0FBTixHQUFBO2FBQzFCLElBQUMsQ0FBQSxNQUFELENBQVEsNEJBQVIsRUFBc0MsR0FBdEMsRUFBMkMsS0FBM0MsRUFEMEI7SUFBQSxDQU41QjtBQUFBLElBU0EsVUFBQSxFQUFZLFNBQUMsR0FBRCxFQUFNLEtBQU4sR0FBQTtBQUNWLFVBQUEsY0FBQTtBQUFBLE1BQUEsY0FBQSxHQUFpQixJQUFDLENBQUEsTUFBRCxDQUFRLGdCQUFSLEVBQTBCLEdBQTFCLEVBQStCLEtBQS9CLENBQWpCLENBQUE7QUFDQSxNQUFBLElBQU8sc0JBQVA7QUFDRSxRQUFBLElBQUMsQ0FBQSxvQkFBRCxDQUFBLENBQUEsQ0FBQTtBQUFBLFFBQ0EsY0FB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

//# sourceURL=/C:/Users/mbulgako/.atom/packages/save-session/lib/config.coffee
